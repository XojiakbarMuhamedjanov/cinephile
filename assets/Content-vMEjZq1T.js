import{r as y,f as $,o as s,d as v,k,w as b,h as a,u,g as m,N as f,t as r,c as l,v as _,x as C,y as N,e as x,z as p,F as w,j as B,A as S,a as V}from"./index-CAXk9ZOQ.js";const z={alt:"",class:"content__list-img"},D={class:"content__list-name"},F={__name:"ContentItem",props:{item:String,type:String,id:Number},setup(t){return(o,e)=>{const n=y("router-link"),i=$("lazy");return s(),v(n,{to:`${t.type}/${t.item.id}`,class:"content__list-item"},{default:k(()=>[b(a("img",z,null,512),[[i,t.item.backdrop_path?u(m)+t.item.backdrop_path:t.item.poster_path?u(m)+t.item.poster_path:u(f)]]),a("h2",D,r(t.item.name||t.item.title),1)]),_:1},8,["to"])}}},O={class:"pagination"},T=["disabled"],j={class:"pagination__page"},q=a("h4",null,"Страница",-1),A=a("span",{class:"pagination__slash"},"/",-1),E=["disabled"],H={__name:"Pagination",props:["currentPage","totalPage"],setup(t){return(o,e)=>(s(),l("div",O,[a("button",{onClick:e[0]||(e[0]=n=>o.$emit("page",t.currentPage-1)),disabled:t.currentPage==1,class:"pagination__btn"}," prev ",8,T),a("div",j,[q,a("span",null,[_(r(t.currentPage)+" ",1),A,_(" "+r(t.totalPage),1)])]),a("button",{onClick:e[1]||(e[1]=n=>o.$emit("page",t.currentPage+1)),disabled:t.currentPage==t.totalPage,class:"pagination__btn"}," next ",8,E)]))}},I={class:"content"},L={class:"container"},M={class:"content__title"},R={key:0,class:"content__list"},K={__name:"Content",props:["type"],setup(t){const o=C(),e=t,n=N();n.getPopular({type:e.type,page:1});const i=x(()=>e.type=="movie"?n.popularMovies:n.popularTvs),c=p(1),h=p(500),P=async g=>{c.value=g,await n.getPopular({type:e.type,page:c.value}),o.push({name:e.type,query:{page:c.value}})};return(g,G)=>(s(),l("div",I,[a("div",L,[a("h2",M,r(t.type=="movie"?"Все фильмы":"Все сериалы"),1),i.value?(s(),l("div",R,[(s(!0),l(w,null,B(i.value,d=>(s(),v(F,{key:d.id,item:d,type:t.type},null,8,["item","type"]))),128))])):S("",!0),V(H,{currentPage:c.value,totalPage:h.value,onPage:P},null,8,["currentPage","totalPage"])])]))}};export{K as _};
